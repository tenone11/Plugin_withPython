import unreal,re

fbxPath = 'D:\\bake\\low\\abc3.fbx'
exportPath = 'D:\\bake\\high\\'
import_task = unreal.AssetImportTask()
import_task.automated = True
import_task.replace_existing = True

import_task.filename = fbxPath
import_task.destination_path = '/Game/EGC_Bake'


def staticmesh_for_import_task_option():
    options = unreal.FbxImportUI()
    options.import_mesh = True
    options.import_textures = False
    options.import_materials = False
    options.import_as_skeletal = False
    options.mesh_type_to_import = unreal.FBXImportType.FBXIT_STATIC_MESH
    nomral_method = unreal.FBXNormalImportMethod.FBXNIM_COMPUTE_NORMALS
    options.static_mesh_import_data.normal_import_method = nomral_method
    options.static_mesh_import_data.auto_generate_collision = False
    return options

import_task.options = staticmesh_for_import_task_option()

unreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks([import_task])

AssetsReady = unreal.EditorAssetLibrary.list_assets(import_task.destination_path, recursive=True, include_folder=False)
# print AssetsReady     >>>     ["/Game/EGC_Bake/abc3.abc3"]

export_FBXtask = unreal.AssetExportTask()
export_FBXtask.automated = True
export_FBXtask.filename = exportPath + 'abc_rexport.fbx'
export_FBXtask.object = unreal.load_asset(AssetsReady[0])
def staticmesh_for_export_task_option():
    options = unreal.FbxExportOption()
    options.ascii = False
    options.collision = False
    options.level_of_detail = False
    options.map_skeletal_motion_to_root = False
    options.vertex_color = False
    options.export_preview_mesh = False
    options.force_front_x_axis = False
    return options

export_FBXtask.options = staticmesh_for_export_task_option()
# print export_task     >>obj : AssetExportTask

unreal.ExporterFBX.run_asset_export_task(export_FBXtask)

print u"琦琦是刚度"
